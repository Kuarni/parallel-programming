Reading 1: 776 ms
877
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7b8400000bb0 by thread T3:
    #0 my_d_ary_heap<8>::empty() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:155 (mq+0x23447)
    #1 my_d_ary_heap<8>::top() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:158 (mq+0x23447)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:169 (mq+0x23447)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23447)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000bb0 by thread T4:
    #0 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:170 (mq+0x23a7c)
    #1 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23a7c)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23a7c)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x273e2)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x273e2)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x273e2)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x273e2)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:57 (mq+0x273e2)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x273e2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:155 in my_d_ary_heap<8>::empty() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc400168000 by thread T3:
    #0 my_d_ary_heap<8>::top() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:158 (mq+0x23476)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:169 (mq+0x23476)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23476)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc400168000 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 (mq+0x234e4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234e4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234e4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234e4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc400168000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:158 in my_d_ary_heap<8>::top() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7b84000002c0 by thread T3:
    #0 my_d_ary_heap<8>::empty() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:155 (mq+0x23447)
    #1 my_d_ary_heap<8>::top() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:158 (mq+0x23447)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:169 (mq+0x23447)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23447)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b84000002c0 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:164 (mq+0x234a2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234a2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234a2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x273e2)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x273e2)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x273e2)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x273e2)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:57 (mq+0x273e2)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x273e2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:155 in my_d_ary_heap<8>::empty() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a9c36130 by thread T3:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a9c36130 by thread T4:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4001b80c0 by thread T3:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234d9)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234d9)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234d9)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4001b80c0 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 (mq+0x23acb)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23acb)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23acb)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23acb)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4001b8000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8f76c10 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8f76c10 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4001b8008 by thread T3:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 (mq+0x23590)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:118 (mq+0x23590)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x23590)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x23590)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x23590)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23590)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4001b8008 by thread T4:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x236c2)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x236c2)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236c2)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236c2)
    #4 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236c2)
    #5 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236c2)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236c2)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4001b8000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4001b8010 by thread T3:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 (mq+0x235be)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:118 (mq+0x235be)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x235be)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x235be)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x235be)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x235be)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4001b8010 by thread T4:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x23b8a)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x23b8a)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23b8a)
    #3 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23b8a)
    #4 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23b8a)
    #5 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23b8a)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23b8a)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4001b8000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4001b8020 by thread T3:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 (mq+0x235be)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:118 (mq+0x235be)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x235be)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x235be)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x235be)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x235be)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4001b8020 by thread T4:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x236c2)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x236c2)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236c2)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236c2)
    #4 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236c2)
    #5 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236c2)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236c2)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4001b8000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4001b8030 by thread T3:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 (mq+0x235be)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:118 (mq+0x235be)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x235be)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x235be)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x235be)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x235be)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4001b8030 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 80000 at 0x7bc4001b8000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a89cded0 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a89cded0 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x23ada)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23ada)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23ada)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ada)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc40008c000 by thread T3:
    #0 my_d_ary_heap<8>::top() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:158 (mq+0x23476)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:169 (mq+0x23476)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23476)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc40008c000 by thread T4:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x23b8a)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x23b8a)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23b8a)
    #3 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23b8a)
    #4 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23b8a)
    #5 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23b8a)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23b8a)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc40008c000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:158 in my_d_ary_heap<8>::top() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a943a5d0 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a943a5d0 by thread T4:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x23ba5)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23ba5)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23ba5)
    #3 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23ba5)
    #4 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23ba5)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ba5)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8aedc70 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8aedc70 by thread T4:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7b8400000580 by thread T3:
    #0 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:170 (mq+0x23a71)
    #1 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23a71)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23a71)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000580 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:164 (mq+0x234a2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234a2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234a2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x273e2)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x273e2)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x273e2)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x273e2)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:57 (mq+0x273e2)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x273e2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:170 in my_d_ary_heap<8>::push(QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7bc4000b40e0 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 (mq+0x23acb)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23acb)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23acb)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23acb)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bc4000b40e0 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 80000 at 0x7bc4000b4000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7bc4000b4018 by thread T3:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x23b8a)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x23b8a)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23b8a)
    #3 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23b8a)
    #4 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23b8a)
    #5 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23b8a)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23b8a)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bc4000b4018 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 80000 at 0x7bc4000b4000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/11/bits/move.h:206 in std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4000b4000 by thread T3:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:104 (mq+0x23bf1)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23bf1)
    #2 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23bf1)
    #3 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23bf1)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23bf1)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4000b4000 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 80000 at 0x7bc4000b4000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:104 in my_d_ary_heap<8>::sift_up(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a7e2c450 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x23ba5)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23ba5)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23ba5)
    #3 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23ba5)
    #4 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23ba5)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ba5)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a7e2c450 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7b8400000a50 by thread T3:
    #0 my_d_ary_heap<8>::empty() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:155 (mq+0x23447)
    #1 my_d_ary_heap<8>::top() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:158 (mq+0x23447)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:169 (mq+0x23447)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23447)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000a50 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x273e2)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x273e2)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x273e2)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x273e2)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:57 (mq+0x273e2)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x273e2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:155 in my_d_ary_heap<8>::empty() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a906f950 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a906f950 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4001a4000 by thread T3:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:110 (mq+0x23c49)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23c49)
    #2 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23c49)
    #3 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23c49)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23c49)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4001a4000 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 (mq+0x234e4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234e4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234e4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234e4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4001a4000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:110 in my_d_ary_heap<8>::sift_up(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7bc4001e0000 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 (mq+0x234e4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234e4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234e4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234e4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bc4001e0000 by thread T3:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:104 (mq+0x23bf1)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23bf1)
    #2 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23bf1)
    #3 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23bf1)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23bf1)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4001e0000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7bc40017c018 by thread T3:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x236c2)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x236c2)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236c2)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236c2)
    #4 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236c2)
    #5 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236c2)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236c2)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bc40017c018 by thread T4:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:104 (mq+0x23bf1)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23bf1)
    #2 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23bf1)
    #3 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23bf1)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23bf1)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc40017c000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/11/bits/move.h:206 in std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a93d6030 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a93d6030 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8202610 by thread T4:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x23ba5)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23ba5)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23ba5)
    #3 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:175 (mq+0x23ba5)
    #4 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23ba5)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ba5)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8202610 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7b8400000f20 by thread T3:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:99 (mq+0x23e0b)
    #1 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23e0b)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23e0b)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23e0b)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7b8400000f20 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:164 (mq+0x234a2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234a2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234a2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 4224 at 0x7b8400000000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x273e2)
    #2 std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::allocate(std::allocator<padded<my_d_ary_heap<8> > >&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x273e2)
    #3 std::_Vector_base<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x273e2)
    #4 std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:78 (mq+0x273e2)
    #5 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:57 (mq+0x273e2)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x273e2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:99 in my_d_ary_heap<8>::sift_up(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4001cc000 by thread T3:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:110 (mq+0x23f6e)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23f6e)
    #2 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23f6e)
    #3 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23f6e)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23f6e)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4001cc000 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 80000 at 0x7bc4001cc000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:110 in my_d_ary_heap<8>::sift_up(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a948d9b0 by thread T3:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a948d9b0 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a96053b0 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a96053b0 by thread T3:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc400104048 by thread T4:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 (mq+0x23590)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:118 (mq+0x23590)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x23590)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x23590)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x23590)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23590)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc400104048 by thread T3:
    [failed to restore the stack]

  Location is heap block of size 80000 at 0x7bc400104000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7bc4001040d8 by thread T4:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x236c2)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x236c2)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236c2)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236c2)
    #4 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236c2)
    #5 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236c2)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236c2)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bc4001040d8 by thread T3:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:104 (mq+0x23e5b)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23e5b)
    #2 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23e5b)
    #3 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23e5b)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23e5b)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc400104000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/11/bits/move.h:206 in std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4000a0088 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234d9)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234d9)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234d9)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4000a0088 by thread T3:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x236c2)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x236c2)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236c2)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236c2)
    #4 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236c2)
    #5 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236c2)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236c2)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4000a0000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7bc400154070 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 (mq+0x23acb)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23acb)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23acb)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23acb)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bc400154070 by thread T4:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 (mq+0x235be)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:118 (mq+0x235be)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x235be)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x235be)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x235be)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x235be)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc400154000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7bc4001e0008 by thread T4:
    #0 std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&) /usr/include/c++/11/bits/move.h:206 (mq+0x236c2)
    #1 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:94 (mq+0x236c2)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236c2)
    #3 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236c2)
    #4 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236c2)
    #5 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236c2)
    #6 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236c2)
    #7 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #8 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #9 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #10 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #12 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7bc4001e0008 by thread T3:
    #0 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:104 (mq+0x23f1d)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23f1d)
    #2 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23f1d)
    #3 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23f1d)
    #4 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23f1d)
    #5 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #6 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #7 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #8 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #10 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4001e0000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/11/bits/move.h:206 in std::enable_if<std::__and_<std::__not_<std::__is_tuple_like<QueueElement*> >, std::is_move_constructible<QueueElement*>, std::is_move_assignable<QueueElement*> >::value, void>::type std::swap<QueueElement*>(QueueElement*&, QueueElement*&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a9aabdb0 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x23ed1)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23ed1)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23ed1)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23ed1)
    #4 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23ed1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ed1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a9aabdb0 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc400028098 by thread T3:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234d9)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234d9)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234d9)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc400028098 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 80000 at 0x7bc400028000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8a3d370 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8a3d370 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x23ada)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23ada)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23ada)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ada)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7bc4000f0088 by thread T3:
    #0 my_d_ary_heap<8>::get_biggest_child(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 (mq+0x23590)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:118 (mq+0x23590)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x23590)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x23590)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x23590)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x23590)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7bc4000f0088 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:126 (mq+0x23acb)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23acb)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23acb)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23acb)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 80000 at 0x7bc4000f0000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement*>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x267d0)
    #2 std::allocator_traits<std::allocator<QueueElement*> >::allocate(std::allocator<QueueElement*>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x267d0)
    #3 std::_Vector_base<QueueElement*, std::allocator<QueueElement*> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x267d0)
    #4 std::vector<QueueElement*, std::allocator<QueueElement*> >::_M_default_append(unsigned long) /usr/include/c++/11/bits/vector.tcc:635 (mq+0x267d0)
    #5 std::vector<QueueElement*, std::allocator<QueueElement*> >::resize(unsigned long) /usr/include/c++/11/bits/stl_vector.h:940 (mq+0x277da)
    #6 my_d_ary_heap<8>::my_d_ary_heap(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:145 (mq+0x277da)
    #7 padded<my_d_ary_heap<8> >::padded(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:26 (mq+0x277da)
    #8 void __gnu_cxx::new_allocator<padded<my_d_ary_heap<8> > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/ext/new_allocator.h:162 (mq+0x277da)
    #9 void std::allocator_traits<std::allocator<padded<my_d_ary_heap<8> > > >::construct<padded<my_d_ary_heap<8> >, unsigned long&>(std::allocator<padded<my_d_ary_heap<8> > >&, padded<my_d_ary_heap<8> >*, unsigned long&) /usr/include/c++/11/bits/alloc_traits.h:516 (mq+0x277da)
    #10 void std::vector<padded<my_d_ary_heap<8> >, std::allocator<padded<my_d_ary_heap<8> > > >::emplace_back<unsigned long&>(unsigned long&) /usr/include/c++/11/bits/vector.tcc:115 (mq+0x277da)
    #11 Multiqueue::Multiqueue(int, int, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:59 (mq+0x277da)
    #12 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:159 (mq+0x277da)
    #13 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #14 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #15 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #16 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #17 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #18 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #19 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #20 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #21 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #22 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #23 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #24 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #25 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #26 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #27 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #28 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #29 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #30 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:137 in my_d_ary_heap<8>::get_biggest_child(unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8b71430 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 (mq+0x236fd)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236fd)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236fd)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236fd)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236fd)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236fd)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8b71430 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x23ada)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23ada)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23ada)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ada)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Read of size 8 at 0x7f11a8806cf0 by thread T3:
    #0 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:180 (mq+0x23df7)
    #1 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23df7)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23df7)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8806cf0 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:180 in my_d_ary_heap<8>::decrease_key(QueueElement*, int)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a802a950 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a802a950 by thread T4:
    [failed to restore the stack]

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 in my_d_ary_heap<8>::set(unsigned long, QueueElement*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8de2890 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8de2890 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x23ada)
    #1 my_d_ary_heap<8>::push(QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:174 (mq+0x23ada)
    #2 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:113 (mq+0x23ada)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ada)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8d81450 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8d81450 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 (mq+0x23ee4)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23ee4)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23ee4)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23ee4)
    #4 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23ee4)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ee4)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a88b7d70 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7f11a88b7d70 by thread T4:
    #0 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:180 (mq+0x23df7)
    #1 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23df7)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23df7)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8463d50 by thread T3:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8463d50 by thread T4:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a892a0f0 by thread T4:
    #0 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 (mq+0x234b2)
    #1 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234b2)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234b2)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Previous read of size 8 at 0x7f11a892a0f0 by thread T3:
    #0 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:180 (mq+0x23df7)
    #1 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23df7)
    #2 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23df7)
    #3 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #4 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #5 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #6 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #7 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #8 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:165 in my_d_ary_heap<8>::pop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a84b17d0 by thread T4:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 (mq+0x236fd)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236fd)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236fd)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236fd)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236fd)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236fd)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a84b17d0 by thread T3:
    #0 my_d_ary_heap<8>::set(unsigned long, QueueElement*) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:127 (mq+0x234f4)
    #1 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:166 (mq+0x234f4)
    #2 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x234f4)
    #3 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x234f4)
    #4 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #5 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #6 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #7 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #9 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a8978390 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 (mq+0x236fd)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236fd)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236fd)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236fd)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236fd)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236fd)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a8978390 by thread T4:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 (mq+0x23ee4)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23ee4)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23ee4)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23ee4)
    #4 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23ee4)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ee4)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:96 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
==================
WARNING: ThreadSanitizer: data race (pid=464482)
  Write of size 8 at 0x7f11a830bd90 by thread T4:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x23ed1)
    #1 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:105 (mq+0x23ed1)
    #2 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23ed1)
    #3 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23ed1)
    #4 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23ed1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23ed1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Previous write of size 8 at 0x7f11a830bd90 by thread T3:
    #0 my_d_ary_heap<8>::swap(unsigned long, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 (mq+0x236e1)
    #1 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:120 (mq+0x236e1)
    #2 my_d_ary_heap<8>::sift_down(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:112 (mq+0x236e1)
    #3 my_d_ary_heap<8>::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:167 (mq+0x236e1)
    #4 Multiqueue::pop() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:174 (mq+0x236e1)
    #5 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:126 (mq+0x236e1)
    #6 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #7 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #8 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #9 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #11 <null> <null> (libstdc++.so.6+0xdc252)

  Location is heap block of size 42295360 at 0x7f11a79bd000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8f162)
    #1 __gnu_cxx::new_allocator<QueueElement>::allocate(unsigned long, void const*) /usr/include/c++/11/ext/new_allocator.h:127 (mq+0x282f6)
    #2 std::allocator_traits<std::allocator<QueueElement> >::allocate(std::allocator<QueueElement>&, unsigned long) /usr/include/c++/11/bits/alloc_traits.h:464 (mq+0x282f6)
    #3 std::_Vector_base<QueueElement, std::allocator<QueueElement> >::_M_allocate(unsigned long) /usr/include/c++/11/bits/stl_vector.h:346 (mq+0x282f6)
    #4 QueueElement* std::vector<QueueElement, std::allocator<QueueElement> >::_M_allocate_and_copy<QueueElement const*>(unsigned long, QueueElement const*, QueueElement const*) /usr/include/c++/11/bits/stl_vector.h:1511 (mq+0x282f6)
    #5 std::vector<QueueElement, std::allocator<QueueElement> >::reserve(unsigned long) /usr/include/c++/11/bits/vector.tcc:85 (mq+0x282f6)
    #6 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:161 (mq+0x282f6)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #8 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #9 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #11 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #13 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #14 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #16 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #17 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #18 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #19 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #20 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #21 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #22 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #23 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #24 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T4 (tid=464496, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #3 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #4 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #5 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #6 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #7 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #8 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #9 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #10 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #11 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #12 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #13 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #14 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #15 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #16 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #17 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #18 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #19 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

  Thread T3 (tid=464495, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:969 (libtsan.so.0+0x605b8)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xdc328)
    #2 void std::vector<std::thread, std::allocator<std::thread> >::emplace_back<void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long&>(void (&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&) /usr/include/c++/11/bits/vector.tcc:121 (mq+0x282c0)
    #3 calc_dijkstra(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, unsigned long, int, unsigned long, Timer&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:169 (mq+0x282c0)
    #4 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:141 (mq+0x1ae80)
    #5 __invoke_impl<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1ae80)
    #6 __invoke_r<DistsAndStatistics, create_impls(const std::vector<std::pair<int, int> >&, bool, size_t)::<lambda(const AdjList&, Timer&)>&, const std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > >&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1ae80)
    #7 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1ae80)
    #8 std::function<DistsAndStatistics (std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&)>::operator()(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x100f2)
    #9 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:152 (mq+0x100f2)
    #10 __invoke_impl<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x100f2)
    #11 __invoke_r<DistsAndStatistics, bind_impls(const std::vector<std::pair<std::function<DistsAndStatistics(const std::vector<std::vector<Edge> >&, Timer&)>, std::__cxx11::basic_string<char> > >&, const AdjList&)::<lambda(Timer&)>&, Timer&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x100f2)
    #12 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x100f2)
    #13 std::function<DistsAndStatistics (Timer&)>::operator()(Timer&) const /usr/include/c++/11/bits/std_function.h:590 (mq+0x1003a)
    #14 operator() /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x1003a)
    #15 __invoke_impl<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:61 (mq+0x1003a)
    #16 __invoke_r<DistsAndStatistics, run(const std::vector<std::pair<std::function<DistsAndStatistics(Timer&)>, std::__cxx11::basic_string<char> > >&)::<lambda()>&> /usr/include/c++/11/bits/invoke.h:143 (mq+0x1003a)
    #17 _M_invoke /usr/include/c++/11/bits/std_function.h:291 (mq+0x1003a)
    #18 std::function<DistsAndStatistics ()>::operator()() const /usr/include/c++/11/bits/std_function.h:590 (mq+0x11ef7)
    #19 std::pair<DistsAndStatistics, std::chrono::duration<long, std::ratio<1l, 1000l> > > measure_time<DistsAndStatistics>(std::function<DistsAndStatistics ()>) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:52 (mq+0x11ef7)
    #20 run(std::vector<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::function<DistsAndStatistics (Timer&)>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:179 (mq+0x11ef7)
    #21 main /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/benchmark.cpp:302 (mq+0xf8f0)

SUMMARY: ThreadSanitizer: data race /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:95 in my_d_ary_heap<8>::swap(unsigned long, unsigned long)
==================
ThreadSanitizer:DEADLYSIGNAL
==464482==ERROR: ThreadSanitizer: SEGV on unknown address 0x000000000080 (pc 0x7f11ad4fbb46 bp 0x000000000005 sp 0x7f11a5977018 T464496)
==464482==The signal is caused by a READ memory access.
==464482==Hint: address points to the zero page.
    #0 __sanitizer::atomic_uint32_t::Type __sanitizer::atomic_load<__sanitizer::atomic_uint32_t>(__sanitizer::atomic_uint32_t const volatile*, __sanitizer::memory_order) ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang_x86.h:52 (libtsan.so.0+0x7eb46)
    #1 __sanitizer::atomic_uint32_t::Type __sanitizer::atomic_load<__sanitizer::atomic_uint32_t>(__sanitizer::atomic_uint32_t const volatile*, __sanitizer::memory_order) ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang_x86.h:27 (libtsan.so.0+0x7eb46)
    #2 NoTsanAtomicLoad<unsigned int> ../../../../src/libsanitizer/tsan/tsan_interface_atomic.cpp:211 (libtsan.so.0+0x7eb46)
    #3 AtomicLoad<unsigned int> ../../../../src/libsanitizer/tsan/tsan_interface_atomic.cpp:232 (libtsan.so.0+0x7fca4)
    #4 __tsan_atomic32_load ../../../../src/libsanitizer/tsan/tsan_interface_atomic.cpp:534 (libtsan.so.0+0x7fca4)
    #5 std::__atomic_base<int>::load(std::memory_order) const /usr/include/c++/11/bits/atomic_base.h:488 (mq+0x23f31)
    #6 QueueElement::get_dist() const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:48 (mq+0x23f31)
    #7 QueueElement::operator>(QueueElement const&) const /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:72 (mq+0x23f31)
    #8 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:104 (mq+0x23f31)
    #9 my_d_ary_heap<8>::sift_up(unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:98 (mq+0x23f31)
    #10 my_d_ary_heap<8>::decrease_key(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/binary_heap.h:181 (mq+0x23f31)
    #11 Multiqueue::push(QueueElement*, int) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/multiqueue.h:94 (mq+0x23f31)
    #12 dijkstra_thread_routine(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long) /mnt/c/Users/kotyr/CLionProjects/multiqueue/src/dijkstra.h:142 (mq+0x23f31)
    #13 void std::__invoke_impl<void, void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(std::__invoke_other, void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:61 (mq+0x1c6f1)
    #14 std::__invoke_result<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>::type std::__invoke<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long>(void (*&&)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>&&, std::reference_wrapper<Multiqueue>&&, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >&&, std::reference_wrapper<Timer>&&, std::reference_wrapper<boost::barrier>&&, unsigned long&&) /usr/include/c++/11/bits/invoke.h:96 (mq+0x1c6f1)
    #15 void std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul>) /usr/include/c++/11/bits/std_thread.h:259 (mq+0x1c6f1)
    #16 std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> >::operator()() /usr/include/c++/11/bits/std_thread.h:266 (mq+0x1c6f1)
    #17 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const&, Multiqueue&, std::vector<QueueElement, std::allocator<QueueElement> >&, Timer&, boost::barrier&, unsigned long), std::reference_wrapper<std::vector<std::vector<Edge, std::allocator<Edge> >, std::allocator<std::vector<Edge, std::allocator<Edge> > > > const>, std::reference_wrapper<Multiqueue>, std::reference_wrapper<std::vector<QueueElement, std::allocator<QueueElement> > >, std::reference_wrapper<Timer>, std::reference_wrapper<boost::barrier>, unsigned long> > >::_M_run() /usr/include/c++/11/bits/std_thread.h:211 (mq+0x1c6f1)
    #18 <null> <null> (libstdc++.so.6+0xdc252)
    #19 __tsan_thread_start_func ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:959 (libtsan.so.0+0x2e5ff)
    #20 start_thread nptl/pthread_create.c:442 (libc.so.6+0x94ac2)
    #21 <null> <null> (libc.so.6+0x12684f)

ThreadSanitizer can not provide additional info.
SUMMARY: ThreadSanitizer: SEGV ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang_x86.h:52 in __sanitizer::atomic_uint32_t::Type __sanitizer::atomic_load<__sanitizer::atomic_uint32_t>(__sanitizer::atomic_uint32_t const volatile*, __sanitizer::memory_order)
==464482==ABORTING
